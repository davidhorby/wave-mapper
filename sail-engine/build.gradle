plugins {
    id 'com.github.johnrengelman.shadow' version '7.0.0'
    id 'java'
    id 'org.jetbrains.kotlin.jvm' version '1.7.20'
}

apply plugin: 'kotlin'

shadowJar {
    archiveBaseName.set(project.name)
    archiveClassifier.set(null)
    archiveVersion.set(null)
    mergeServiceFiles()
}



jar {
    manifest {
        attributes 'Main-Class': 'com.dhorby.gcloud.HelloWorld'
    }
}


dependencies {
    implementation kotlinDeps
    implementation googleCloud
    implementation jackson

    testImplementation kotlinTest
    testImplementation junit5
    testRuntimeOnly junit5RuntimeOnly

}

test {
    useJUnitPlatform()
}
